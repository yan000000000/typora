# chassis

### 引入

从这节课开始，我们就将正式介绍RM中的各个部分的控制。首先我们来学习一下底盘的控制。底盘是承载 RoboMaster 机器人运动的机械结构，底盘一般由轮组，悬挂，车架等组成。其中 RoboMaster 比赛底盘轮组使用的是麦克纳姆轮，每个麦克纳姆轮都由单独的电机驱动，以完成全向移动的功能。RoboMaster机器人底盘往往需要配合云台进行配合控制，例如 RoboMaster 机器人底盘角度控制就需要跟随云台角度进行控制,同时底盘在运动过程也需要云台角度进行旋转操作以到达平稳运动的效果。

### 麦轮

RoboMaster 麦克纳姆轮是一款直径为 152.5mm 的 45°全向轮，在轮毂周围分布着 16 个橡胶小滚子，与车轮的轴线成 45°角，机械结构如图所示。麦克纳姆轮根据小胶轮的角度分为左旋麦克纳姆轮和右旋麦克纳姆轮，它们是手性对称，必须成套使用。

![image-20240614132645560](.assets/image-20240614132645560.png)

在底盘上，根据运动学的解算，我们有如下的安装顺序（俯视图）。1，2，3，4分别代表四个不同的轮子。1，3为左旋，2，4为右旋。

<img src=".assets/image-20240614132913428.png" alt="image-20240614132913428" style="zoom:50%;" />

### 底盘运动学

底盘运动方向，需要建立一个坐标系进行讲解，如图所示。底盘前进方向为 x 轴，左移方向为 y 轴，z 轴竖直向上，底盘逆时针旋转为旋转正方向。

![image-20240614133604419](.assets/image-20240614133604419.png)

一个刚体在平面内具有三个自由度运动，沿 x 轴方向的前后运动 Vx，沿 y 轴方向的左右运动 Vy，绕 z 轴的旋转运动 Wz。根据底盘的三个自由度运动计算四个麦克纳姆轮的运动的过程，称为底盘的正运动过程。根据底盘速度计算麦克纳姆轮的速度如下表所示。

| 底盘速度    | 麦轮速度                                         |
| ----------- | ------------------------------------------------ |
| 前进速度 Vx | V1 = Vx<br />V2 = Vx<br />V3 = Vx<br />V4 = Vx   |
| 左右速度 Vy | V1 = Vy<br />V2 = -Vy<br />V3 = Vy<br />V4 = -Vy |
| 旋转速度 Wz | V1 = Wz<br />V2 = -Wz<br />V3 = -Wz<br />V4 = Wz |